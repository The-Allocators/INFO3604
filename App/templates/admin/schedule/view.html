{% extends "admin/base.html" %}

{% block title %}Schedule - Help Desk System{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin/schedule.css') }}">
{% endblock %}

{% block content %}
<div class="schedule-header">
    <div class="week-selector" id="weekSelector">
        Week 5: September 30th - October 5th â–¼
        <div class="week-dropdown" id="weekDropdown">
            <div class="week-option">Week 1: September 2nd - 6th</div>
            <div class="week-option">Week 2: September 9th - 13th</div>
            <div class="week-option">Week 3: September 16th - 20th</div>
            <div class="week-option">Week 4: September 23rd - 27th</div>
            <div class="week-option">Week 5: September 30th - October 4th</div>
            <div class="week-option">Week 6: October 7th - 11th</div>
            <div class="week-option">Week 7: October 14th - 18th</div>
            <div class="week-option">Week 8: October 21st - 25th</div>
            <div class="week-option">Week 9: October 28th - November 1st</div>
            <div class="week-option">Week 10: November 4th - 8th</div>
        </div>
    </div>
    
    <div class="scheduler-options">
        <button class="btn btn-primary" id="generateSchedule">Generate Schedule</button>
    </div>
</div>

<div class="loading-indicator" id="loadingIndicator" style="display: none;">
    <div class="spinner"></div>
    <p>Generating schedule...</p>
</div>

<div class="schedule-grid">
    <table class="schedule-table">
        <thead>
            <tr>
                <th class="time-cell">Time</th>
                <th>
                    <div class="day-header">
                        <span class="day-date">30</span>
                        <span class="day-name">Sept, Monday</span>
                    </div>
                </th>
                <th>
                    <div class="day-header">
                        <span class="day-date">01</span>
                        <span class="day-name">Oct, Tuesday</span>
                    </div>
                </th>
                <th>
                    <div class="day-header">
                        <span class="day-date">02</span>
                        <span class="day-name">Oct, Wednesday</span>
                    </div>
                </th>
                <th>
                    <div class="day-header">
                        <span class="day-date">03</span>
                        <span class="day-name">Oct, Thursday</span>
                    </div>
                </th>
                <th>
                    <div class="day-header">
                        <span class="day-date">04</span>
                        <span class="day-name">Oct, Friday</span>
                    </div>
                </th>
            </tr>
        </thead>
        <tbody id="scheduleBody">
            <!-- Schedule will be loaded dynamically -->
            <tr>
                <td colspan="6" class="empty-schedule">
                    <p>No schedule generated yet. Click "Generate Schedule" to create a new schedule.</p>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<div class="schedule-stats" id="scheduleStats" style="display: none;">
    <h3>Schedule Statistics</h3>
    <div class="stats-list" id="statsList">
        <!-- Statistics will be loaded dynamically -->
    </div>
</div>

<!-- Staff search modal -->
<div id="staffSearchModal" class="modal">
    <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>Add Staff</h2>
        <div class="search-field">
            <input type="text" id="staffSearchInput" placeholder="Search for staff...">
        </div>
        <div id="staffSearchResults" class="search-results">
            <!-- Search results will appear here -->
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/admin-schedule.js') }}"></script>
{% endblock %}